<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog</title>
    <link rel="stylesheet" href="./CSS/style.css">
</head>
<body>
    <header>
        <h1>My Blog</h1>
        <nav id="main-nav"></nav>
        <button class="menu-toggle">Did it take long? Yes, but it was worth it.</button>
        <!--Audio-->
<audio autoplay loop>
  <source src="./Músicas/Undertale OST - 002 Start Menu.mp3" type="audio/mpeg">
    </header>
<main id="news-container">
        <article class="news-item">
            <img src="PNG/UBP.png" alt="titulo">
            <h2>Título da Notícia Destaque</h2>
            <p> Um resumo pequeno da noticia para preencher o card.</p>
            <a href="./Html/Treetale.html">Leia mais</a>
        </article>
</main>
    <footer> <!--rodapé-->
        <p class="v1">2025 - My Blog. All rights reserved.</p>
    </footer>

    

<script src="./JS/script.js"></script>

    <!-- Path fixing script for GitHub Pages image/audio loading -->
    <script>
    (function(){
        function normalizeKey(p){
            p = p.replace(/^https?:\/\/.+?\//,'');
            p = p.replace(/^\.\/?/,'');
            p = p.normalize('NFD').replace(/\p{Diacritic}/gu,'').toLowerCase();
            p = p.replace(/\\/g,'/');
            p = p.replace(/[^a-z0-9.\/_-]+/g,'-');
            p = p.replace(/-+/g,'-');
            p = p.replace(/^[-]+|[-]+$/g,'');
            return p;
        }
        async function fixPaths(){
            let resp;
            try{ resp = await fetch('./assets-manifest.json'); }catch(e){ return; }
            if(!resp.ok) return;
            const manifest = await resp.json();
            const attrs = [{sel:'img',attr:'src'},{sel:'audio',attr:'src'},{sel:'source',attr:'src'},{sel:'a',attr:'href'}];
            for(const {sel,attr} of attrs){
                document.querySelectorAll(sel).forEach(async el => {
                    const val = el.getAttribute(attr);
                    if(!val) return;
                    if(/^https?:|^data:/.test(val)) return;
                    try{
                        const r = await fetch(val, {method:'HEAD'});
                        if(r.ok) return;
                    }catch(e){/*ignore*/}
                    const key = normalizeKey(val);
                    if(manifest[key]){
                        el.setAttribute(attr, manifest[key]);
                    } else {
                        const key2 = normalizeKey('png/'+val.split('/').pop());
                        const key3 = normalizeKey('musicas/'+val.split('/').pop());
                        if(manifest[key2]) el.setAttribute(attr, manifest[key2]);
                        else if(manifest[key3]) el.setAttribute(attr, manifest[key3]);
                    }
                });
            }
        }
        if(document.readyState === 'loading') document.addEventListener('DOMContentLoaded', fixPaths);
        else fixPaths();
    })();
    </script>

</body>
</html>